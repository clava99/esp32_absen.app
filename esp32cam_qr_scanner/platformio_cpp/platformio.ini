# Konfigurasi PlatformIO untuk ESP32-CAM Absensi QR Code
#
# Board: AI-Thinker ESP32-CAM
# Framework: Arduino
# Ketergantungan:
#   - quirc: Pustaka untuk dekode QR code dari gambar.
#   - ArduinoJson: Untuk membuat payload JSON saat mengirim data ke server.

[env:ai_thinker_esp32_cam]
platform = espressif32
board = ai_thinker_esp32_cam
framework = arduino

# Opsi monitor serial
monitor_speed = 115200

# Opsi build
build_flags =
    -DCORE_DEBUG_LEVEL=0 ; Nonaktifkan pesan debug ESP untuk output yang lebih bersih
    -DARDUINO_JSON_USE_LONG_LONG=1 ; Aktifkan dukungan 64-bit integer jika diperlukan

# Definisi pin kamera untuk board AI-Thinker
# Ini akan dimasukkan sebagai makro dalam kode C++
board_build.defines =
    -DCAMERA_MODEL_AI_THINKER
    -DPIN_PWDN=-1
    -DPIN_RESET=-1
    -DPIN_XCLK=0
    -DPIN_SIOD=26
    -DPIN_SIOC=27
    -DPIN_D7=35
    -DPIN_D6=34
    -DPIN_D5=39
    -DPIN_D4=36
    -DPIN_D3=21
    -DPIN_D2=19
    -DPIN_D1=18
    -DPIN_D0=5
    -DPIN_VSYNC=25
    -DPIN_HREF=23
    -DPIN_PCLK=22

# Pustaka yang dibutuhkan oleh proyek
lib_deps =
    # Pustaka untuk mendekode QR codes
    # Tautan: https://github.com/dlbeer/quirc
    # PlatformIO akan mengunduhnya secara otomatis
    dlbeer/quirc @ ^1.1.0

    # Pustaka untuk parsing dan serialisasi JSON
    # Tautan: https://github.com/bblanchon/ArduinoJson
    bblanchon/ArduinoJson @ ^6.21.4

